<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaScript Basic - Data Types, Operators, Type Conversion | Donna'Log</title><meta name="author" content="Donna Tang"><meta name="copyright" content="Donna Tang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Primitive TypesPrimitive values are often referred to as stack data (once a &quot;room&quot; is allocated, the value inside that room cannot be modified). In JavaScript, the following primitive types">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript Basic - Data Types, Operators, Type Conversion">
<meta property="og:url" content="https://donnapersonal.github.io/posts/jsbasic-datatype/">
<meta property="og:site_name" content="Donna&#39;Log">
<meta property="og:description" content="Primitive TypesPrimitive values are often referred to as stack data (once a &quot;room&quot; is allocated, the value inside that room cannot be modified). In JavaScript, the following primitive types">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.7i0rgcc8cp.webp">
<meta property="article:published_time" content="2021-05-16T19:49:09.000Z">
<meta property="article:modified_time" content="2025-10-02T21:58:54.167Z">
<meta property="article:author" content="Donna Tang">
<meta property="article:tag" content="JS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.7i0rgcc8cp.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "JavaScript Basic - Data Types, Operators, Type Conversion",
  "url": "https://donnapersonal.github.io/posts/jsbasic-datatype/",
  "image": "https://github.com/donnapersonal/picx-images-hosting/raw/master/image.7i0rgcc8cp.webp",
  "datePublished": "2021-05-16T19:49:09.000Z",
  "dateModified": "2025-10-02T21:58:54.167Z",
  "author": [
    {
      "@type": "Person",
      "name": "Donna Tang",
      "url": "https://donnapersonal.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://donnapersonal.github.io/posts/jsbasic-datatype/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":150,"languages":{"author":"Author: Donna Tang","link":"Link: ","source":"Source: Donna'Log","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript Basic - Data Types, Operators, Type Conversion',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(https://oss.012700.xyz/butterfly/2024/10/index.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="/cn/"><i class="fa-fw fas fa-c"></i><span> Chinese</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Donna'Log</span></a><a class="nav-page-title" href="/"><span class="site-name">JavaScript Basic - Data Types, Operators, Type Conversion</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="/cn/"><i class="fa-fw fas fa-c"></i><span> Chinese</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">JavaScript Basic - Data Types, Operators, Type Conversion<a class="post-edit-link" href="null_posts/jsbasic-datatype.md" title="Edit" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-05-16T19:49:09.000Z" title="Created 2021-05-16 15:49:09">2021-05-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-10-02T21:58:54.167Z" title="Updated 2025-10-02 17:58:54">2025-10-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Frontend/">Frontend</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Frontend/JS/">JS</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><h1 id="Primitive-Types"><a href="#Primitive-Types" class="headerlink" title="Primitive Types"></a>Primitive Types</h1><p>Primitive values are often referred to as <code>stack data</code> (<strong>once a &quot;room&quot; is allocated, the value inside that room cannot be modified</strong>).</p>
<p>In JavaScript, the following primitive types exist:</p>
<ul>
<li><code>number (typeof 1 === &quot;number&quot;)</code></li>
<li><code>string (typeof &#39;&#39; === &quot;string&quot;)</code></li>
<li><code>boolean (typeof true === &quot;boolean&quot;)</code></li>
<li><code>null (typeof null === &quot;object&quot;)</code></li>
<li><code>undefined (typeof undefined === &quot;undefined&quot;)</code></li>
<li><code>symbol (typeof Symbol() === &quot;symbol&quot;)</code></li>
<li><code>bigInt (typeof 10n === &quot;bigint&quot;)</code> — not officially standardized at the time but soon to be added.</li>
</ul>
<p><strong><code>Primitive</code> types store values directly and do not have methods of their own</strong>. For example, calling <code>undefined.toString()</code> will throw an error.</p>
<p>When you see something like <code>&#39;1&#39;.toString()</code> working, it’s because the primitive value is automatically boxed into its corresponding object type (<code>String</code>), which allows the <code>toString</code> method to be called.</p>
<p><img src="https://github.com/donnapersonal/picx-images-hosting/raw/master/toString.8ojtezis3g.webp" alt="undefined.toString()"></p>
<h3 id="Difference-Between-undefined-and-null"><a href="#Difference-Between-undefined-and-null" class="headerlink" title="Difference Between undefined and null"></a>Difference Between undefined and null</h3><ul>
<li><code>Similarities</code>: When evaluated in an <code>if</code> statement, both are converted to <code>false</code>.</li>
<li><code>Differences</code>:<ul>
<li><p>Their numeric conversions are different:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Number</span>(<span class="literal">null</span>);      <span class="comment">// 0</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">undefined</span>); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>null</code> is a <code>value</code>, but it is an <code>empty value</code>, representing <code>&quot;nothing&quot;</code> — it indicates that a value should be present but is explicitly empty. For example, an object can be <code>null</code> to represent an empty object. <strong>It is often used as a placeholder.</strong></p>
</li>
<li><p><code>undefined</code> means <code>not defined</code>, indicating that no value exists at all. In JavaScript, a <code>dynamically typed language</code>, members may not only exist with an empty value but also may not exist at all (since existence is determined only at runtime). This is the meaning and purpose of undefined.</p>
</li>
</ul>
</li>
</ul>
<h3 id="Why-does-typeof-null-return-object"><a href="#Why-does-typeof-null-return-object" class="headerlink" title="Why does typeof null return object?"></a>Why does typeof null return object?</h3><p><code>typeof null</code> outputs object because of a <code>long-standing bug</code> in JavaScript. </p>
<ul>
<li>In the earliest version of <code>JS</code>, which was designed for <code>32-bit</code> systems, <code>type information for variables</code> was stored in the <code>lower bits</code> for performance reasons. </li>
<li>Values starting with <code>000</code> were used to represent <code>objects</code>. Since <code>null</code> is represented as <code>all zeroes</code>, it was incorrectly classified as an <code>object</code>.</li>
</ul>
<h3 id="Why-is-0-1-0-2-0-3"><a href="#Why-is-0-1-0-2-0-3" class="headerlink" title="Why is 0.1 + 0.2 !&#x3D;&#x3D; 0.3?"></a>Why is 0.1 + 0.2 !&#x3D;&#x3D; 0.3?</h3><p>For detailed analysis, see: <a href="https://donnapersonal.github.io/posts/0.1+0.2/">Why 0.1 + 0.2 !&#x3D;&#x3D; 0.3</a></p>
<h3 id="How-to-Determine-if-a-Value-is-NaN？"><a href="#How-to-Determine-if-a-Value-is-NaN？" class="headerlink" title="How to Determine if a Value is NaN？"></a>How to Determine if a Value is NaN？</h3><p><code>NaN</code> means <code>Not-a-Number</code>, but using typeof shows it as type number:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">typeof</span>(<span class="title class_">NaN</span>); <span class="comment">// &#x27;number&#x27;</span></span><br></pre></td></tr></table></figure>


<p>Methods to check whether a value is <code>NaN</code>:</p>
<ul>
<li>Use the definition of <code>NaN</code>: check with typeof to see if it’s <code>&quot;number&quot;</code> and then use <code>isNaN</code>.</li>
<li><strong>Use the fact that <code>NaN</code> is the only value in JavaScript that is not equal to itself</strong>: <code>n !== n</code>.</li>
<li>Use the <code>Object.is()</code> method introduced in <code>ES6</code>, which accurately determines whether two values are the same: <code>Object.is(n, NaN)</code>.</li>
</ul>
<h3 id="Why-Was-BigInt-Proposed"><a href="#Why-Was-BigInt-Proposed" class="headerlink" title="Why Was BigInt Proposed?"></a>Why Was BigInt Proposed?</h3><p>In JavaScript, <code>Number.MAX_SAFE_INTEGER</code> represents the maximum safe integer, which is <code>9007199254740991</code>. Within this range, integers can be represented without precision loss (decimals excluded).</p>
<p>However, once numbers exceed this range, JavaScript calculations become inaccurate. In the past, this required <code>third-party libraries</code> to handle large integer computations. To address this issue, the official proposal for <code>BigInt</code> was introduced.</p>
<p>The <code>BigInt</code> type allows integers of arbitrary precision. With <code>BigInt</code>, you can safely store and manipulate very large integers — even those that exceed the safe integer limit.</p>
<p>A <code>BigInt</code> is created:</p>
<ul>
<li>Append an <code>n</code> to the end of an integer literal</li>
<li>or by using the BigInt constructor</li>
</ul>
<h2 id="Reference-Types"><a href="#Reference-Types" class="headerlink" title="Reference Types"></a>Reference Types</h2><p>These are generally referred to as <code>heap data</code>, and include:</p>
<ul>
<li><code>Objects (Object) (typeof &#123;&#125; === &quot;object&quot;)</code></li>
<li><code>Arrays (Array) (typeof [] === &quot;object&quot;)</code></li>
<li><code>Functions (Function) (typeof function()&#123;&#125; === &quot;function&quot;)</code></li>
</ul>
<p><strong>Differences between <code>Reference Types</code> and <code>Primitive Types</code>:</strong></p>
<ul>
<li><p>Primitive values are stored on the <code>stack</code>, while reference values are stored in the <code>heap</code>. <strong>Primitive values are immutable, while reference values are mutable</strong>.</p>
</li>
<li><p>When assigning a <code>primitive value</code>, the actual value is copied into the new variable. </p>
<ul>
<li>Once a memory space is allocated on the <code>stack</code>, its contents cannot be changed. </li>
<li>Even if you reassign num &#x3D; 234, this simply creates a new stack space with the value 234 and makes num point to it; the original space holding 123 still exists.</li>
</ul>
</li>
<li><p><code>Reference values</code> work differently: <strong>the variable name exists on the stack, but the actual value is stored in the heap.</strong></p>
<ul>
<li>The variable on the stack acts as a <code>pointer</code> to the heap space. </li>
<li>When you do <code>arr1 = arr</code>, both variables point to the same heap space. </li>
<li>If the contents of that heap space are modified through <code>arr</code>, then <code>arr1</code> will also reflect the change, since they share the same reference.</li>
</ul>
<p>Example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Changing num has no effect on num1</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">123</span>, num1 = num;</span><br><span class="line">num = <span class="number">234</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);  <span class="comment">// 234</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num1); <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Changing arr also changes arr1</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], arr1 = arr;</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">4</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);  <span class="comment">// [1,2,3,4]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1); <span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure>


<p>Now consider the case where a function parameter is an object:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">person</span>) &#123;</span><br><span class="line">  person.<span class="property">age</span> = <span class="number">26</span></span><br><span class="line">  person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;yyy&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> person</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;yck&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">25</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="title function_">test</span>(p1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1) <span class="comment">// &#123;name: &quot;yck&quot;, age: 26&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2) <span class="comment">// &#123;name: &quot;yyy&quot;, age: 30&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>In the above code, the function receives a copy of the reference (pointer) as its parameter.</li>
<li>Inside the function, modifying the property of the parameter also modifies the object referenced by <code>p1</code>, so <code>p1</code> is affected.</li>
<li>However, when the parameter <code>person</code> is reassigned to a <code>new object</code>, it now <code>points to a different memory address</code> in the heap. At this point, <code>person</code> and <code>p1</code> no longer share the same reference, which is why the final values of <code>p1</code> and <code>p2</code> are different.</li>
</ul>
<p><img src="https://github.com/donnapersonal/picx-images-hosting/raw/master/reference_value.7i0i6dtvi2.webp" alt="When function parameters are objects"></p>
</li>
<li><p><strong>You cannot directly manipulate data in the heap</strong> (i.e., you cannot directly manipulate objects). Instead, you operate on objects through references stored in the stack—just like using a remote control to operate a TV. The difference is that the TV itself has no physical control buttons.</p>
</li>
</ul>
<p><strong>Why distinguish between stack and heap?</strong></p>
<p>Variables mainly come in two forms:</p>
<ul>
<li><code>Small, lightweight content (such as an int)</code>, which needs <code>frequent access</code> but has a <code>short lifecycle</code>, typically living only within a <code>single method</code>.</li>
<li><code>Larger content (such as a long string)</code>, which may not require frequent access but has a <code>longer lifecycle</code>, often needed across <code>multiple methods</code>.</li>
</ul>
<p>The <code>heap</code> is slow in almost every respect: </p>
<ul>
<li>memory allocation is slow, access is slow, modification is slow, deallocation is slow, and garbage collection is slow. </li>
<li>But its advantages are obvious: <code>flexible random access</code>, <code>very large space</code>, and <code>the ability to allocate as much memory as needed (within the limits of available memory)</code>.</li>
</ul>
<p>The <code>stack</code>, on the other hand, is extremely fast. </p>
<ul>
<li>Its downsides are that values typically have short lifetimes (usually only within a single method), and the required size of the stack must usually be known ahead of time. </li>
<li>In fact, in most languages (like Java), stack size is determined at compile time. </li>
<li>Stack memory is usually quite limited, so you cannot store large amounts of data there.</li>
</ul>
<p><strong>Primitive types are not stored in the heap</strong> because doing so would hurt stack efficiency. </p>
<ul>
<li>Looking up an actual object through a heap reference takes additional time, and the overall cost would be much higher than directly accessing values stored in the <code>stack</code>. </li>
<li>Therefore, primitive values are stored directly in the <code>stack</code>.</li>
</ul>
<h1 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h1><h2 id="Arithmetic-Operators-evaluated-left-to-right-by-precedence"><a href="#Arithmetic-Operators-evaluated-left-to-right-by-precedence" class="headerlink" title="Arithmetic Operators (evaluated left to right by precedence)"></a>Arithmetic Operators (evaluated left to right by precedence)</h2><ul>
<li><code>+</code>: mathematical addition, or string concatenation (when a string is added to any type, the result becomes a string).</li>
<li><code>-, *, /, %</code>: subtraction, multiplication, division, and modulus.</li>
<li><code>=</code>: assignment operator, has the lowest precedence.</li>
<li><code>()</code>: parentheses, same as in mathematics; expressions inside parentheses have the highest precedence.</li>
<li><code>++</code>: increment by 1. When placed before a variable, it increments first, then evaluates. When placed after, it evaluates first, then increments.</li>
<li><code>--</code>: same as ++, but decrements instead.</li>
<li><code>+=</code>: increment the variable by a certain value.</li>
<li>Similarly: <code>-=, /=, *=, %=</code>, etc.</li>
</ul>
<h2 id="Comparison-Operators"><a href="#Comparison-Operators" class="headerlink" title="Comparison Operators"></a>Comparison Operators</h2><p>Comparison operators include: <code>&gt;, &lt;, &gt;=, &lt;=, !=, == (loose equality), === (strict equality)</code>.</p>
<p>The difference between <code>==</code> and <code>===</code>:</p>
<ul>
<li><code>==</code>: performs type coercion first, then compares. If the values are equal after conversion, it returns true.</li>
<li><code>===</code>: <code>no type conversion</code>; both type and value must be the same to return true.</li>
</ul>
<p>Note: </p>
<ul>
<li><strong><code>NaN</code> is not equal to any value, including itself</strong>. </li>
<li><code>null</code> and <code>undefined</code> are only equal to themselves (and <code>null == undefined</code> is true).</li>
</ul>
<h2 id="Logical-Operators"><a href="#Logical-Operators" class="headerlink" title="Logical Operators"></a>Logical Operators</h2><p>The main logical operators are <code>AND (&amp;&amp;)</code> and <code>OR (||)</code>.</p>
<ul>
<li><p><code>&amp;&amp;</code>: </p>
<ul>
<li>Only if the first expression is true will it evaluate the second one. </li>
<li>If the first is false, the second is not executed. </li>
<li>If both expressions are true, <code>&amp;&amp;</code> returns the result of the last evaluated expression.</li>
</ul>
</li>
<li><p><code>||</code>: </p>
<ul>
<li>As soon as one expression is true, evaluation stops and that truthy expression is returned. </li>
<li>If all are false, it returns false.</li>
</ul>
</li>
</ul>
<p>Practical usage:</p>
<ul>
<li><p><code>&amp;&amp;</code> is often used as <code>a short-circuit operator</code>. Because the second expression only runs if the first is true, a simple if statement can often be expressed with <code>&amp;&amp;</code>.</p>
</li>
<li><p><code>||</code> is often used for <code>default values</code>. If a function parameter is missing or falsy, <code>||</code> can provide a fallback initial value (without <code>ES6</code> syntax).</p>
</li>
</ul>
<p><code>Caveat</code>: </p>
<ul>
<li>if the argument passed is explicitly false (a boolean), the <code>||</code> operator will ignore it and fall back to the default value. </li>
<li>To avoid this, <code>ES6</code> features (like default parameters or <code>??</code> nullish coalescing) should be used.</li>
</ul>
<blockquote>
<p><strong>Values considered falsy by default</strong>: <code>undefined</code>, <code>null</code>, <code>&quot;&quot; (empty string)</code>, <code>0</code>, <code>-0</code>, <code>false</code>, <code>NaN</code>.</p>
</blockquote>
<h1 id="Type-Conversion"><a href="#Type-Conversion" class="headerlink" title="Type Conversion"></a>Type Conversion</h1><h2 id="Explicit-Type-Conversion"><a href="#Explicit-Type-Conversion" class="headerlink" title="Explicit Type Conversion"></a>Explicit Type Conversion</h2><p>The possible return values of typeof are:<br><code>number</code>, <code>string</code>, <code>boolean</code>, <code>undefined</code>, <code>symbol</code>, <code>bigInt</code>, <code>object</code>, <code>function</code></p>
<ul>
<li>Both <code>arrays</code> and <code>null</code> return <code>&quot;object&quot;</code>.</li>
<li><code>NaN</code> is of type <code>number</code>: although it represents <code>&quot;Not-a-Number,&quot;</code> it is still classified as a <code>numeric type</code></li>
</ul>
<p>Conversion methods:</p>
<ul>
<li><p><code>Number(mix)</code>: Converts other types of values into a number type.</p>
</li>
<li><p><code>parseInt(string, radix)</code>: Converts a string into an integer.</p>
<ul>
<li>The second argument <code>radix</code> is optional.</li>
<li>When the <code>string</code> contains <code>digits</code> followed by other characters, it will parse from left to right until it encounters a <code>non-numeric character</code>, at which point it stops — even if digits follow later.</li>
<li>If <code>radix</code> is provided, the function can be used for <code>base conversion</code>: it interprets the first argument as a <code>number</code> in the given base and converts it to <code>decimal</code> (radix ranges from <code>2 to 36</code>).</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String(100000000000000000000000) -&gt; &quot;1e+23&quot;</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">100000000000000000000000</span>);  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>parseFloat(string)</code>: Similar to <code>parseInt</code>, but converts a string to <code>a floating-point number</code>. Parsing stops at the first non-numeric character.</p>
<ul>
<li>Since floating-point numbers can have decimals, it recognizes the first decimal point and digits after it, but not a second decimal point.</li>
<li>When numbers are large enough, the string representation is in <code>exponential notation</code>:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(<span class="number">100000000000000000000000</span>); <span class="comment">// 1e+23</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>toString(radix)</code>: A method available on objects that converts a value into a string.</p>
<ul>
<li>With no argument, it simply converts the value to a string.</li>
<li>If <code>radix</code> is provided, it converts the <code>number</code> to a string representation in the specified base.</li>
</ul>
<blockquote>
<p>Note: <strong><code>undefined</code> and <code>null</code> do not have a <code>toString</code> method</strong>.</p>
</blockquote>
</li>
<li><p><code>String(mix)</code>: Converts any type into a <code>string</code>.</p>
</li>
<li><p><code>Boolean(mix)</code>: Converts any type into a <code>boolean</code>.</p>
</li>
</ul>
<h2 id="Implicit-Type-Conversion"><a href="#Implicit-Type-Conversion" class="headerlink" title="Implicit Type Conversion"></a>Implicit Type Conversion</h2><p><strong>isNaN()</strong></p>
<p>This method checks whether a value is <code>Not-a-Number</code>. Internally, it performs an implicit conversion:</p>
<ul>
<li>It first applies the <code>Number</code> function to the argument, and then checks if the result is <code>NaN</code>.</li>
</ul>
<p>This method can also detect <code>NaN</code> itself.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">isNaN</span>(<span class="title class_">NaN</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">&#x27;abc&#x27;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">123</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><strong>Arithmetic Operators</strong></p>
<ul>
<li><code>++n</code>: the value is first converted with <code>Number</code>, then incremented.</li>
<li><code>n++</code>: although the increment happens after the expression is evaluated, the value is still converted to a number beforehand.</li>
</ul>
<p>Similarly, <code>unary operators</code> such as <code>+, -, *, /</code> will all convert values to numbers before execution.</p>
<p><strong>Logical Operators</strong></p>
<p><code>Logical operators</code> also trigger <code>implicit type conversion</code>:</p>
<ul>
<li><code>&amp;&amp; and ||</code>: both first convert their operands to <code>booleans</code> using <code>Boolean()</code>. The operation itself returns the original operand (not the coerced boolean).</li>
<li><code>!</code>: the <code>NOT</code> operator returns the boolean result of applying <code>Boolean()</code> and then inverting it.</li>
</ul>
<p><code>Boolean conversion</code>: </p>
<ul>
<li>In conditional checks, <code>everything converts to true</code> except <code>undefined, null, false, NaN, &quot;&quot; (empty string), 0, and -0</code>. </li>
<li><strong>All objects are truthy</strong>.</li>
</ul>
<h2 id="Conversion-Rules"><a href="#Conversion-Rules" class="headerlink" title="Conversion Rules"></a>Conversion Rules</h2><table>
<thead>
<tr>
<th>Primitive Value</th>
<th>To Number</th>
<th>To String</th>
<th>To Boolean</th>
</tr>
</thead>
<tbody><tr>
<td>number</td>
<td>&#x2F;</td>
<td>0 → <code>&quot;0&quot;</code>, 5 → <code>&quot;5&quot;</code></td>
<td><code>true</code> except for <code>0</code>, <code>-0</code>, <code>NaN</code></td>
</tr>
<tr>
<td>string</td>
<td><code>&quot;&quot;</code> → 0, <code>&quot;1&quot;</code> → 1, <code>&quot;a&quot;</code> → NaN</td>
<td>&#x2F;</td>
<td><code>true</code> except for <code>empty</code> string</td>
</tr>
<tr>
<td>undefined</td>
<td>NaN</td>
<td><code>&quot;undefined&quot;</code></td>
<td>false</td>
</tr>
<tr>
<td>null</td>
<td>0</td>
<td><code>&quot;null&quot;</code></td>
<td>false</td>
</tr>
<tr>
<td>[] (empty array)</td>
<td>0</td>
<td><code>&quot;&quot;</code></td>
<td>true</td>
</tr>
<tr>
<td>[10,20]</td>
<td>NaN</td>
<td><code>&quot;10,20&quot;</code></td>
<td>true</td>
</tr>
<tr>
<td>{} (empty object)</td>
<td>NaN</td>
<td><code>&quot;[object Object]&quot;</code></td>
<td>true</td>
</tr>
<tr>
<td>{a: 1}</td>
<td>NaN</td>
<td><code>&quot;[object Object]&quot;</code></td>
<td>true</td>
</tr>
<tr>
<td>function(){}</td>
<td>NaN</td>
<td><code>&quot;function()&#123;&#125;&quot;</code></td>
<td>true</td>
</tr>
<tr>
<td>true</td>
<td>1</td>
<td><code>&quot;true&quot;</code></td>
<td>true</td>
</tr>
<tr>
<td>false</td>
<td>0</td>
<td><code>&quot;false&quot;</code></td>
<td>false</td>
</tr>
<tr>
<td>Symbol</td>
<td>NaN</td>
<td><code>&quot;function Symbol()&#123;[native code]&#125;&quot;</code></td>
<td>true</td>
</tr>
<tr>
<td>Symbol()</td>
<td>Error</td>
<td><code>&quot;Symbol()&quot;</code></td>
<td>true</td>
</tr>
</tbody></table>
<h2 id="Reference-Types-Converting-to-Primitives"><a href="#Reference-Types-Converting-to-Primitives" class="headerlink" title="Reference Types Converting to Primitives"></a>Reference Types Converting to Primitives</h2><h3 id="ToPrimitive"><a href="#ToPrimitive" class="headerlink" title="[[ToPrimitive]]"></a>[[ToPrimitive]]</h3><p>When a reference type is converted, the built-in <code>[[ToPrimitive]]</code> function is called.</p>
<p><code>ToPrimitive(obj, preferredType)</code>:</p>
<ul>
<li>Internally used by the <code>JS engine</code> to convert objects to primitive values.</li>
<li><code>obj</code>: the object being converted.</li>
<li><code>preferredType</code>: the target type for the conversion (defaults to <code>empty</code>, valid values are <code>Number</code> or <code>String</code>).</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li>If the second argument is not provided and <code>obj</code> is a <code>Date</code> instance, <code>preferredType</code> will be set to <code>&quot;String&quot;</code>.</li>
<li>For other cases, it defaults to <code>&quot;Number&quot;</code>.</li>
</ul>
<p>When <code>preferredType</code> is not explicitly provided, the <code>hint</code> is set to <code>&quot;default&quot;</code>, which JS automatically determines at runtime. In most cases, <code>&quot;default&quot;</code> behaves the same as <code>&quot;Number&quot;</code>.</p>
</blockquote>
<p>When an object is converted to a primitive, the following logic applies:</p>
<ul>
<li>If <code>obj[Symbol.toPrimitive]</code> exists, call it first.</li>
<li>Otherwise:<ul>
<li>If <code>preferredType</code> is <code>Number</code>, the conversion process is:<ul>
<li>If <code>obj</code> is already a <code>primitive</code>, return it.</li>
<li>Otherwise, call <code>obj.valueOf()</code>. If the result is a <code>primitive</code>, return it.</li>
<li>Otherwise, call <code>obj.toString()</code>. If the result is a <code>primitive</code>, return it.</li>
<li>Otherwise, throw a <code>TypeError</code>.</li>
</ul>
</li>
<li>If <code>preferredType</code> is <code>String</code>, the order of <code>steps 2</code> and <code>3</code> is reversed:<ul>
<li>If <code>obj</code> is already a <code>primitive</code>, return it.</li>
<li>Otherwise, call <code>obj.toString()</code>. If the result is a <code>primitive</code>, return it.</li>
<li>Otherwise, call <code>obj.valueOf()</code>. If the result is a <code>primitive</code>, return it.</li>
<li>Otherwise, throw a <code>TypeError</code>.</li>
</ul>
</li>
<li>If <code>preferredType</code> is not provided (<code>hint = &quot;default&quot;</code>), it behaves the same as if <code>preferredType</code> were <code>Number</code>.</li>
</ul>
</li>
</ul>
<h3 id="Symbol-toPrimitive"><a href="#Symbol-toPrimitive" class="headerlink" title="Symbol.toPrimitive"></a>Symbol.toPrimitive</h3><p><code>Symbol.toPrimitive</code> is a built-in symbol. It can be defined as a function property on an <code>object</code>.</p>
<p>When an <code>object</code> needs to be converted to a <code>primitive</code>, this function will be called.</p>
<p>The function is passed a <code>string</code> argument hint, indicating the expected primitive type.<br>hint can be one of <code>&quot;number&quot;, &quot;string&quot;, or &quot;default&quot;</code>.</p>
<blockquote>
<p>Note: <strong><code>Symbol.toPrimitive</code> has the highest priority in type conversion</strong>.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Example</span> <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ab = &#123;</span><br><span class="line">  <span class="title function_">valueOf</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="number">0</span>; &#125;,</span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="string">&#x27;1&#x27;</span>; &#125;,</span><br><span class="line">  [<span class="title class_">Symbol</span>.<span class="property">toPrimitive</span>]() &#123; <span class="keyword">return</span> <span class="number">2</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + ab);   <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1&#x27;</span> + ab); <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Example</span> <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  [<span class="title class_">Symbol</span>.<span class="property">toPrimitive</span>](hint) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hint == <span class="string">&quot;number&quot;</span>) <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span> (hint == <span class="string">&quot;string&quot;</span>) <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+obj2);      <span class="comment">// 10    -- hint is &quot;number&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;obj2&#125;</span>`</span>);  <span class="comment">// hello -- hint is &quot;string&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2 + <span class="string">&quot;&quot;</span>);  <span class="comment">// &quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Example</span> <span class="number">3</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  [<span class="title class_">Symbol</span>.<span class="property">toPrimitive</span>](hint) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hint === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Number case&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hint === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;String case&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;str&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hint === <span class="string">&#x27;default&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Default case&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;default&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> * obj);    <span class="comment">// Number case -&gt; 246</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> + obj);    <span class="comment">// Default case -&gt; &quot;3default&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj + <span class="string">&quot;&quot;</span>);   <span class="comment">// Default case -&gt; &quot;default&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(obj));<span class="comment">// String case -&gt; &quot;str&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="valueOf-and-toString-Methods"><a href="#valueOf-and-toString-Methods" class="headerlink" title="valueOf and toString Methods"></a>valueOf and toString Methods</h3><p>In JavaScript’s <code>Object.prototype,</code> all objects have both <code>valueOf</code> and <code>toString</code> methods.<br>However, the order in which they are invoked during type conversion can vary.</p>
<p>For <code>primitive</code> values:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;hello&quot;</span>, n = <span class="number">123</span>, bool = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(str.<span class="title function_">toString</span>()) + <span class="string">&quot;_&quot;</span> + str.<span class="title function_">toString</span>()); <span class="comment">// string_hello</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(n.<span class="title function_">toString</span>()) + <span class="string">&quot;_&quot;</span> + n.<span class="title function_">toString</span>());     <span class="comment">// string_123</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(bool.<span class="title function_">toString</span>()) + <span class="string">&quot;_&quot;</span> + bool.<span class="title function_">toString</span>());<span class="comment">// string_true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(str.<span class="title function_">valueOf</span>()) + <span class="string">&quot;_&quot;</span> + str.<span class="title function_">valueOf</span>());   <span class="comment">// string_hello</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(n.<span class="title function_">valueOf</span>()) + <span class="string">&quot;_&quot;</span> + n.<span class="title function_">valueOf</span>());       <span class="comment">// number_123</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(bool.<span class="title function_">valueOf</span>()) + <span class="string">&quot;_&quot;</span> + bool.<span class="title function_">valueOf</span>()); <span class="comment">// boolean_true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="property">valueOf</span> === str); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n.<span class="property">valueOf</span> === n);     <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bool.<span class="title function_">valueOf</span>() === bool); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>toString()</code> for primitives effectively performs type conversion to <code>string</code>.</li>
<li><code>valueOf()</code> for primitives simply returns the original value.</li>
</ul>
<p>For <code>composite</code> objects:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">toString</span>()); <span class="comment">// [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">valueOf</span>());  <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p>Comprehensive example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = &#123; </span><br><span class="line">  <span class="attr">i</span>: <span class="number">10</span>, </span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;toString&#x27;</span>); </span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">i</span>; </span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="attr">valueOf</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;valueOf&#x27;</span>); </span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">i</span>; </span><br><span class="line">  &#125; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(test);        <span class="comment">// 10 (toString)</span></span><br><span class="line"><span class="title function_">alert</span>(+test);       <span class="comment">// 10 (valueOf)</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;&#x27;</span> + test);   <span class="comment">// 10 (valueOf)</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">String</span>(test));<span class="comment">// 10 (toString)</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">Number</span>(test));<span class="comment">// 10 (valueOf)</span></span><br><span class="line"><span class="title function_">alert</span>(test == <span class="string">&#x27;10&#x27;</span>);<span class="comment">// true (valueOf)</span></span><br><span class="line"><span class="title function_">alert</span>(test === <span class="string">&#x27;10&#x27;</span>);<span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="Difference-Between-toString-and-String"><a href="#Difference-Between-toString-and-String" class="headerlink" title="Difference Between toString() and String()"></a>Difference Between toString() and String()</h2><p>Both convert values to <code>strings</code>, but with differences:</p>
<p><code>toString()</code></p>
<ul>
<li>Can convert most values to strings, but throws an error for <code>null</code> and <code>undefined</code>.</li>
<li>If called on a <code>number</code>, <code>toString()</code> can accept a <code>radix</code> argument to output the number in a given base.<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>());    <span class="comment">// &quot;123&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>(<span class="number">2</span>));   <span class="comment">// &quot;1111011&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>(<span class="number">8</span>));   <span class="comment">// &quot;173&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>(<span class="number">16</span>));  <span class="comment">// &quot;7b&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><code>String()</code></p>
<ul>
<li>Can safely convert any value, including <code>null</code> and <code>undefined</code>, to a string.</li>
<li>Does not support <code>radix</code> conversion.</li>
</ul>
<blockquote>
<p>Notes:</p>
<ul>
<li><code>Symbol.toPrimitive</code> and <code>toString()</code> must return <code>primitive values</code>.</li>
<li><code>valueOf()</code> may return either <code>primitive values</code> or <code>other types</code>.</li>
</ul>
</blockquote>
<p>By default, <code>numbers</code> are the preferred type. So in most cases, when an object is used in addition, JS tries <code>valueOf()</code> first, then <code>toString()</code>.</p>
<p>The only exception is <code>Date</code>, which prefers string conversion.</p>
<h2 id="Equality-Rules"><a href="#Equality-Rules" class="headerlink" title="&#x3D;&#x3D; Equality Rules"></a>&#x3D;&#x3D; Equality Rules</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Regular cases</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">null</span>        <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">undefined</span>   <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="title class_">NaN</span>         <span class="comment">// false</span></span><br><span class="line"><span class="comment">// When both sides are strings, == directly compares whether the strings are exactly the same without performing any numeric conversion.</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="string">&quot;&quot;</span>          <span class="comment">// false </span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="number">0</span>           <span class="comment">// true</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">null</span>      <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="title class_">NaN</span>       <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == &#123;&#125;        <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">null</span>         <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">undefined</span>    <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="title class_">NaN</span>          <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == &#123;&#125;           <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">null</span>          <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">undefined</span>     <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="title class_">NaN</span>           <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == &#123;&#125;            <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Non-regular (surprising) cases</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">false</span>  <span class="comment">// true</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">false</span>    <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">false</span>   <span class="comment">// true</span></span><br><span class="line">[] == <span class="literal">false</span>   <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="number">0</span>       <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == []      <span class="comment">// true</span></span><br><span class="line"><span class="number">0</span> == []       <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>Summary:</p>
<ul>
<li><code>undefined == null</code> evaluates to <code>true</code>, and comparisons of either with any other value are false. (<code>undefined</code> and <code>null</code> are a special pair; they are only equal to each other under <code>==</code>.)</li>
<li><code>NaN</code> is not equal to anything, including itself.</li>
<li>For <code>String == Boolean</code>, both operands are first converted to <code>Number</code>.</li>
<li>For <code>String/Boolean == Number</code>, the String&#x2F;Boolean is converted to <code>Number</code>.</li>
<li>For <code>Object == Primitive</code>, the <code>Object</code> is converted to a <code>primitive</code> (via <code>valueOf/toString</code>, i.e., <code>ToPrimitive</code>).</li>
</ul>
<p><img src="https://github.com/donnapersonal/picx-images-hosting/raw/master/type_transform.6pnmond9t3.webp" alt="&#x3D;&#x3D; rules"></p>
<p>To avoid pitfalls when using <code>==</code>, follow these two principles (or prefer <code>===</code> to avoid implicit coercion):</p>
<ul>
<li>If either side is <code>true</code> or <code>false</code>, do not use <code>==</code>.</li>
<li>If either side is <code>[]</code>, <code>&quot;&quot;</code>, or <code>0</code>, try not to use <code>==</code>.</li>
</ul>
<h2 id="Differences-Between-and-Object-is"><a href="#Differences-Between-and-Object-is" class="headerlink" title="Differences Between &#x3D;&#x3D;, &#x3D;&#x3D;&#x3D;, and Object.is()"></a>Differences Between &#x3D;&#x3D;, &#x3D;&#x3D;&#x3D;, and Object.is()</h2><ul>
<li><code>==</code>: loose equality</li>
<li><code>===</code>: strict equality</li>
<li><code>Object.is()</code>: a strengthened version of strict equality</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">3</span>; </span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&quot;3&quot;</span>; </span><br><span class="line"></span><br><span class="line">a == b;         <span class="comment">// true</span></span><br><span class="line">a === b;        <span class="comment">// false, because a and b are of different types </span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(a, b); <span class="comment">// false, because a and b are of different types </span></span><br></pre></td></tr></table></figure>

<p><code>=== (strict equality)</code> is straightforward and follows these rules:</p>
<ul>
<li>If the types differ → not equal.</li>
<li>If both are <code>numbers</code> and have the same value → equal. If either is <code>NaN</code> → not equal.</li>
<li>If both are <code>strings</code> with identical characters in every position → equal, otherwise not.</li>
<li>If both are <code>booleans</code> with the same value → equal.</li>
<li>If both <code>reference</code> the <code>same object</code> or <code>function</code> (i.e., <code>identical memory address</code>) → equal, otherwise not.</li>
<li>If both are <code>null</code> or both are <code>undefined</code> → equal.</li>
</ul>
<p><code>Object.is()</code> behaves almost the same as <code>===</code>, but with two key differences:</p>
<ul>
<li><code>+0</code> is not equal to <code>-0</code>.</li>
<li><code>NaN</code> is equal to itself.</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">+<span class="number">0</span> === -<span class="number">0</span> <span class="comment">// true</span></span><br><span class="line"><span class="title class_">NaN</span> === <span class="title class_">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="number">0</span>, +<span class="number">0</span>) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="number">0</span>, -<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(+<span class="number">0</span>, -<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(-<span class="number">0</span>, -<span class="number">0</span>) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="title class_">NaN</span>, <span class="number">0</span>/<span class="number">0</span>) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="title class_">NaN</span>, <span class="title class_">NaN</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="variable language_">window</span>, <span class="variable language_">window</span>); <span class="comment">// true</span></span><br><span class="line"> </span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>([], []); <span class="comment">// false</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> foo = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> bar = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(foo, foo); <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(foo, bar); <span class="comment">// false</span></span><br><span class="line"> </span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="literal">null</span>, <span class="literal">null</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>In short, <code>Object.is()</code> fixes the two edge cases that <code>===</code> does not handle well:</p>
<ul>
<li>It distinguishes between <code>+0</code> and <code>-0</code>.</li>
<li>It considers <code>NaN</code> equal to itself.</li>
</ul>
</blockquote>
<p>Polyfill for <code>Object.is()</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">objectIs</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (x === y) &#123;</span><br><span class="line">    <span class="comment">// If both x and y are 0, check for +0 vs -0.</span></span><br><span class="line">    <span class="comment">// 1 / +0 = +Infinity, 1 / -0 = -Infinity</span></span><br><span class="line">    <span class="keyword">return</span> x !== <span class="number">0</span> || y !== <span class="number">0</span> || <span class="number">1</span> / x === <span class="number">1</span> / y;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// Handle NaN: since NaN !== NaN, we check x !== x to detect NaN; y is the same.</span></span><br><span class="line">    <span class="keyword">return</span> x !== x &amp;&amp; y !== y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Extension"><a href="#Extension" class="headerlink" title="Extension"></a>Extension</h1><h2 id="The-Design-of-Object-and-Array-in-JavaScript"><a href="#The-Design-of-Object-and-Array-in-JavaScript" class="headerlink" title="The Design of Object and Array in JavaScript"></a>The Design of Object and Array in JavaScript</h2><p><strong>Object</strong></p>
<p>In JavaScript, the pure <code>Object</code> type has default implementations of <code>valueOf</code> and <code>toString</code> methods that return the following:</p>
<ul>
<li><code>valueOf</code> method: returns the object itself.</li>
<li><code>toString</code> method: returns the string <code>&quot;[object Object]&quot;</code>. For different built-in objects, the return value is <code>&quot;[object type]&quot;</code>.<ul>
<li><code>type</code> indicates the object’s internal classification. For example, the <code>Math</code> object returns the string <code>&quot;[object Math]&quot;</code>.</li>
<li>Some built-in objects override this method, so calling it directly may return something different. (Note: in the returned string, &quot;object&quot; starts with a lowercase letter, while the type name starts with an uppercase letter.)</li>
</ul>
</li>
</ul>
<p>Thus, the <code>toString</code> method from Object can be used to check the type of various objects. In earlier days when JavaScript lacked many libraries or utilities, this technique was commonly used. However, it requires the call method to ensure correct results, for example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>([]);      <span class="comment">// &quot;[object Array]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Date</span>); <span class="comment">// &quot;[object Date]&quot;</span></span><br></pre></td></tr></table></figure>

<p>Both <code>valueOf</code> and <code>toString</code> can be overridden. You can observe their invocation order with the following example (where valueOf is called first):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">valueOf</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;valueOf&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;; <span class="comment">// object</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;toString&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;obj&#x27;</span>; <span class="comment">// string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + obj);   <span class="comment">// valueOf -&gt; toString -&gt; &quot;1obj&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+obj);      <span class="comment">// valueOf -&gt; toString -&gt; NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&#x27;</span> + obj);  <span class="comment">// valueOf -&gt; toString -&gt; &quot;obj&quot;</span></span><br></pre></td></tr></table></figure>

<p>Cases where <code>toString</code> is called first are rare—mostly limited to the Date object or explicit string conversions:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">valueOf</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;valueOf&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// number</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;toString&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;; <span class="comment">// object</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">alert</span>(obj);     <span class="comment">// toString -&gt; valueOf -&gt; alert(&quot;1&quot;)</span></span><br><span class="line"><span class="title class_">String</span>(obj);    <span class="comment">// toString -&gt; valueOf -&gt; &quot;1&quot;</span></span><br></pre></td></tr></table></figure>

<p>The following case results in an error because neither order produces a primitive value. The error message <code>&quot;TypeError: Cannot convert object to primitive value&quot;</code> reveals that JavaScript expects an object to be converted into a primitive during the operation:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">valueOf</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;valueOf&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;; <span class="comment">// object</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;toString&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;; <span class="comment">// object</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj + obj); <span class="comment">// valueOf -&gt; toString -&gt; error!</span></span><br></pre></td></tr></table></figure>

<p><strong>Array</strong></p>
<p><code>Arrays</code> are widely used. Although they are object types, their design differs from plain objects:</p>
<ul>
<li><code>valueOf</code> method: returns the object itself (same as Object).</li>
<li><code>toString</code> method: overridden to return the result of calling <code>join(&#39;,&#39;)</code> on the array elements. For example:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">toString</span>(); <span class="comment">// &quot;1,2,3&quot;</span></span><br></pre></td></tr></table></figure>

<p>This behavior is particularly important to note.</p>
<p><strong>Function</strong></p>
<p><code>Function</code> objects are less frequently discussed, but they also override toString (so it’s not the same as Object’s implementation):</p>
<ul>
<li><code>valueOf</code> method: returns the object itself (same as Object).</li>
<li><code>toString</code> method: returns the function’s source code as a string.</li>
</ul>
<h2 id="What-is-the-result-of"><a href="#What-is-the-result-of" class="headerlink" title="What is the result of {} + []?"></a>What is the result of {} + []?</h2><p>See: <a href="https://donnapersonal.github.io/posts/+operator/">What are the results of JS&#39;s {} + {} and {} + []?</a></p>
<h2 id="What-is-the-result-of-1-2-3-map-parseInt"><a href="#What-is-the-result-of-1-2-3-map-parseInt" class="headerlink" title="What is the result of [&#39;1&#39;,&#39;2&#39;,&#39;3&#39;].map(parseInt)?"></a>What is the result of [&#39;1&#39;,&#39;2&#39;,&#39;3&#39;].map(parseInt)?</h2><p>See: <a href="https://donnapersonal.github.io/posts/map_parseint">What is the result of [&#39;1&#39;,&#39;2&#39;,&#39;3&#39;].map(parseInt)?</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://donnapersonal.github.io">Donna Tang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://donnapersonal.github.io/posts/jsbasic-datatype/">https://donnapersonal.github.io/posts/jsbasic-datatype/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JS/">JS</a></div><div class="post-share"><div class="social-share" data-image="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.7i0rgcc8cp.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/0.1+0.2/" title="Why 0.1 + 0.2 != 0.3?"><img class="cover" src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.6m494gp9dv.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Why 0.1 + 0.2 != 0.3?</div></div><div class="info-2"><div class="info-item-1">BackgroundWhen you enter the following lines in the browser console, the result is unexpected: 1230.1 + 0.2 &gt; 0.3  // true0.1 + 0.2 = 0.300000000000000040.1 * 0.1 = 0.010000000000000002  Prerequisite KnowledgeIn the world of computers, everything is ultimately binary — just 0s and 1s. To represent common decimal numbers, a conversion process is required. Converting Decimal to BinaryThe overall conversion process from decimal to binary is as follows:  Integer part: divide by 2 and record th...</div></div></div></a><a class="pagination-related" href="/posts/+operator/" title="What are the results of JS's {} + {} and {} + []?"><img class="cover" src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.8s3omkauw3.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">What are the results of JS's {} + {} and {} + []?</div></div><div class="info-2"><div class="info-item-1">PrefaceIn JavaScript, the + symbol is very common and can be used in the following ways:  Addition of numbers (binary operator) String concatenation (binary operator, with the highest precedence) Unary plus, which can also be extended to mean forcing the operand to be converted into a numeric type  Another common syntax element is the curly braces &#123;&#125;, which also have two frequent uses:  Object literal definition Block statements  Plus Operator +In addition to the common cases mentio...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/+operator/" title="What are the results of JS&#39;s {} + {} and {} + []?"><img class="cover" src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.8s3omkauw3.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-16</div><div class="info-item-2">What are the results of JS&#39;s {} + {} and {} + []?</div></div><div class="info-2"><div class="info-item-1">PrefaceIn JavaScript, the + symbol is very common and can be used in the following ways:  Addition of numbers (binary operator) String concatenation (binary operator, with the highest precedence) Unary plus, which can also be extended to mean forcing the operand to be converted into a numeric type  Another common syntax element is the curly braces &#123;&#125;, which also have two frequent uses:  Object literal definition Block statements  Plus Operator +In addition to the common cases mentio...</div></div></div></a><a class="pagination-related" href="/posts/0.1+0.2/" title="Why 0.1 + 0.2 !&#x3D; 0.3?"><img class="cover" src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.6m494gp9dv.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-16</div><div class="info-item-2">Why 0.1 + 0.2 !&#x3D; 0.3?</div></div><div class="info-2"><div class="info-item-1">BackgroundWhen you enter the following lines in the browser console, the result is unexpected: 1230.1 + 0.2 &gt; 0.3  // true0.1 + 0.2 = 0.300000000000000040.1 * 0.1 = 0.010000000000000002  Prerequisite KnowledgeIn the world of computers, everything is ultimately binary — just 0s and 1s. To represent common decimal numbers, a conversion process is required. Converting Decimal to BinaryThe overall conversion process from decimal to binary is as follows:  Integer part: divide by 2 and record th...</div></div></div></a><a class="pagination-related" href="/posts/jsbasic-handwriting/" title="JavaScript Basic - High-frequency handwriting"><img class="cover" src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.9ddc96s40g.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-09</div><div class="info-item-2">JavaScript Basic - High-frequency handwriting</div></div><div class="info-2"><div class="info-item-1">Simulating Object.is()Object.is() fixes the two edge cases that === does not handle well:  It distinguishes between +0 and -0. It considers NaN equal to itself.  12345678910function objectIs(x, y) &#123;  if (x === y) &#123;    // If both x and y are 0, check for +0 vs -0.    // 1 / +0 = +Infinity, 1 / -0 = -Infinity    return x !== 0 || y !== 0 || 1 / x === 1 / y;  &#125; else &#123;    // Handle NaN: since NaN !== NaN, we check x !== x to detect NaN; y is the same.    return x !== x &amp;&a...</div></div></div></a><a class="pagination-related" href="/posts/jsbasic-inherit/" title="JavaScript Basic - Inheritance"><img class="cover" src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.2rvii9f6z2.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-08</div><div class="info-item-2">JavaScript Basic - Inheritance</div></div><div class="info-2"><div class="info-item-1">InheritanceThe purpose of prototypes is to form the prototype chain:   Reference types are all objects, and each object has a prototype.  Prototypes are also objects, and they also have their own prototypes, forming a prototype chain layer by layer.  The purpose of the prototype chain is inheritance:   When accessing an object&#39;s properties, if the property cannot be found in the object itself, the search is performed up the prototype chain layer by layer.  In other words, one object can a...</div></div></div></a><a class="pagination-related" href="/posts/jsbasic-prototype/" title="JavaScript Basic - Re-understanding constructors, prototypes, prototype chains, and inheritance"><img class="cover" src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.73ubpkycwk.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-08</div><div class="info-item-2">JavaScript Basic - Re-understanding constructors, prototypes, prototype chains, and inheritance</div></div><div class="info-2"><div class="info-item-1">Constructor FunctionsWhat is a Constructor Function?A constructor function is simply a function that provides a template for creating objects and defines their basic structure. A single constructor function can generate multiple objects, all of which share the same structure. A constructor function is still just a function, but by convention, its name starts with a capital letter. The difference between a constructor function and a regular function lies in how it is called:  When called with ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Donna Tang</div><div class="author-info-description">Learn more! Think more! Do more!</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/donnapersonal"><i class="fab fa-github"></i><span>GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog! <br>Migrating from old blog!</br></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Primitive-Types"><span class="toc-number">1.</span> <span class="toc-text">Primitive Types</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Difference-Between-undefined-and-null"><span class="toc-number">1.0.1.</span> <span class="toc-text">Difference Between undefined and null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-does-typeof-null-return-object"><span class="toc-number">1.0.2.</span> <span class="toc-text">Why does typeof null return object?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-is-0-1-0-2-0-3"><span class="toc-number">1.0.3.</span> <span class="toc-text">Why is 0.1 + 0.2 !&#x3D;&#x3D; 0.3?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-Determine-if-a-Value-is-NaN%EF%BC%9F"><span class="toc-number">1.0.4.</span> <span class="toc-text">How to Determine if a Value is NaN？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-Was-BigInt-Proposed"><span class="toc-number">1.0.5.</span> <span class="toc-text">Why Was BigInt Proposed?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference-Types"><span class="toc-number">1.1.</span> <span class="toc-text">Reference Types</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Operators"><span class="toc-number">2.</span> <span class="toc-text">Operators</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Arithmetic-Operators-evaluated-left-to-right-by-precedence"><span class="toc-number">2.1.</span> <span class="toc-text">Arithmetic Operators (evaluated left to right by precedence)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Comparison-Operators"><span class="toc-number">2.2.</span> <span class="toc-text">Comparison Operators</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Logical-Operators"><span class="toc-number">2.3.</span> <span class="toc-text">Logical Operators</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Type-Conversion"><span class="toc-number">3.</span> <span class="toc-text">Type Conversion</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Explicit-Type-Conversion"><span class="toc-number">3.1.</span> <span class="toc-text">Explicit Type Conversion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Implicit-Type-Conversion"><span class="toc-number">3.2.</span> <span class="toc-text">Implicit Type Conversion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conversion-Rules"><span class="toc-number">3.3.</span> <span class="toc-text">Conversion Rules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference-Types-Converting-to-Primitives"><span class="toc-number">3.4.</span> <span class="toc-text">Reference Types Converting to Primitives</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ToPrimitive"><span class="toc-number">3.4.1.</span> <span class="toc-text">[[ToPrimitive]]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Symbol-toPrimitive"><span class="toc-number">3.4.2.</span> <span class="toc-text">Symbol.toPrimitive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#valueOf-and-toString-Methods"><span class="toc-number">3.4.3.</span> <span class="toc-text">valueOf and toString Methods</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Difference-Between-toString-and-String"><span class="toc-number">3.5.</span> <span class="toc-text">Difference Between toString() and String()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Equality-Rules"><span class="toc-number">3.6.</span> <span class="toc-text">&#x3D;&#x3D; Equality Rules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Differences-Between-and-Object-is"><span class="toc-number">3.7.</span> <span class="toc-text">Differences Between &#x3D;&#x3D;, &#x3D;&#x3D;&#x3D;, and Object.is()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Extension"><span class="toc-number">4.</span> <span class="toc-text">Extension</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#The-Design-of-Object-and-Array-in-JavaScript"><span class="toc-number">4.1.</span> <span class="toc-text">The Design of Object and Array in JavaScript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-the-result-of"><span class="toc-number">4.2.</span> <span class="toc-text">What is the result of {} + []?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-the-result-of-1-2-3-map-parseInt"><span class="toc-number">4.3.</span> <span class="toc-text">What is the result of [&#39;1&#39;,&#39;2&#39;,&#39;3&#39;].map(parseInt)?</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/undefined/" title="map_parseint">map_parseint</a><time datetime="2025-10-02T21:58:42.000Z" title="Created 2025-10-02 17:58:42">2025-10-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/jsbasic-handwriting/" title="JavaScript Basic - High-frequency handwriting"><img src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.9ddc96s40g.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript Basic - High-frequency handwriting"/></a><div class="content"><a class="title" href="/posts/jsbasic-handwriting/" title="JavaScript Basic - High-frequency handwriting">JavaScript Basic - High-frequency handwriting</a><time datetime="2021-07-10T01:10:53.000Z" title="Created 2021-07-09 21:10:53">2021-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/jsbasic-inherit/" title="JavaScript Basic - Inheritance"><img src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.2rvii9f6z2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript Basic - Inheritance"/></a><div class="content"><a class="title" href="/posts/jsbasic-inherit/" title="JavaScript Basic - Inheritance">JavaScript Basic - Inheritance</a><time datetime="2021-07-09T01:10:53.000Z" title="Created 2021-07-08 21:10:53">2021-07-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/jsbasic-prototype/" title="JavaScript Basic - Re-understanding constructors, prototypes, prototype chains, and inheritance"><img src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.73ubpkycwk.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript Basic - Re-understanding constructors, prototypes, prototype chains, and inheritance"/></a><div class="content"><a class="title" href="/posts/jsbasic-prototype/" title="JavaScript Basic - Re-understanding constructors, prototypes, prototype chains, and inheritance">JavaScript Basic - Re-understanding constructors, prototypes, prototype chains, and inheritance</a><time datetime="2021-07-09T01:10:53.000Z" title="Created 2021-07-08 21:10:53">2021-07-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/0.1+0.2/" title="Why 0.1 + 0.2 != 0.3?"><img src="https://github.com/donnapersonal/picx-images-hosting/raw/master/image.6m494gp9dv.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Why 0.1 + 0.2 != 0.3?"/></a><div class="content"><a class="title" href="/posts/0.1+0.2/" title="Why 0.1 + 0.2 != 0.3?">Why 0.1 + 0.2 != 0.3?</a><time datetime="2021-05-17T01:35:51.000Z" title="Created 2021-05-16 21:35:51">2021-05-16</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2019 - 2025 By Donna Tang</span></div><div class="footer_custom_text">Hi, welcome to my blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script data-pjax src="/self/btf.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false
        ? (usePjax ? pjax.loadUrl('/404') : window.location.href = '/404')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>